document.write('<script src="../js/global.js" type="text/javascript"><\/script><script src="../js/bootstrap.js" type="text/javascript"><\/script><script src="../js/servidor.js" type="text/javascript" charset="utf-8"><\/script>');function EstaEnArray(b,c){for(var a=0;a<b.length;a++){if(b[a].Id===c){return true}}return false}$("document").ready(function(){servidor.cotización.ListarGruposBebidaTiposServicio(function(e,f){if(!e){alert(f);return}if(f.length===0){return}if(f[0].length===0){return}$("#Id_Corp_Mitos").html("");var k=function(){this.Id;this.Nombre;this.colspan;this.Bebidas;this.TiposServicio};var b=function(){this.Id;this.Nombre};var g=[];var a=-1,h=-2,l=-1;var c=-1,j=0,m=0;for(var d=0;d<f.length;d++){if(f[d][0]!==a){c++;g[c]=new k();g[c].Id=f[d][0];g[c].Nombre=f[d][1];j=0;m=0;g[c].colspan=2;g[c].TiposServicio=[];g[c].TiposServicio[m]=new b();g[c].TiposServicio[m].Id=f[d][2];g[c].TiposServicio[m].Nombre=f[d][3];g[c].Bebidas=[];g[c].Bebidas[j]=new b();g[c].Bebidas[j].Id=f[d][4];g[c].Bebidas[j].Nombre=f[d][5]}else{if(f[d][2]!==h){if(!EstaEnArray(g[c].TiposServicio,f[d][2])){m++;g[c].colspan++;g[c].TiposServicio[m]=new b();g[c].TiposServicio[m].Id=f[d][2];g[c].TiposServicio[m].Nombre=f[d][3]}}if(f[d][4]!==l){if(!EstaEnArray(g[c].Bebidas,f[d][4])){j++;g[c].Bebidas[j]=new b();g[c].Bebidas[j].Id=f[d][4];g[c].Bebidas[j].Nombre=f[d][5]}}}a=f[d][0];h=f[d][2];l=f[d][4]}$("#Id_Corp_Mitos").append(function(){var q="";for(var p=0;p<g.length;p++){q+="<div id='Id_"+g[p].Id+"' class='span2' style='padding-bottom: 20px' ><table class='pizarra'>";q+="<tr><th id='Id_GB_"+g[p].Id+"_th' colspan="+g[p].colspan+">"+g[p].Nombre+"</th></tr>";q+="<tr><th></th>";for(var o=0;o<g[p].TiposServicio.length;o++){q+="<td>"+g[p].TiposServicio[o].Nombre+"</td>"}q+="</tr>";for(var o=0;o<g[p].Bebidas.length;o++){q+="<tr id='Id_B_"+g[p].Bebidas[o].Id+"' class='"+(o%2?"par":"impar")+"' > ";q+="<td>"+g[p].Bebidas[o].Nombre+"</td>";for(var n=0;n<g[p].TiposServicio.length;n++){q+="<td id='Id_B_"+g[p].Bebidas[o].Id+"_TS_"+g[p].TiposServicio[n].Id+"' ></td>"}q+="</tr>"}q+="</table></div>"}return q});setInterval(function(){servidor.cotización.ListarCotización(function(v,t){if(!v){return}if(t.length===0){return}if(t[0].length===0){return}var o=2,u=6,s,q=10,n=4;for(var r=0;r<t.length;r++){if(t[r][u]<t[r][q]){$("#Id_B_"+t[r][o]).addClass("barato")}else{$("#Id_B_"+t[r][o]).removeClass("barato")}$("#Id_B_"+t[r][o]+"_TS_"+t[r][n]).html(Left((s=(s=t[r][u].toString())+(s.indexOf(".")>0?"":".")+"00"),s.split(".")[0].length+3)+"€")}})},1000)})});